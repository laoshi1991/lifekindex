# 产品需求文档：人生K线图 (Life K-Line)

## 1. 产品概述
**产品名称**：人生K线图 (Life K-Line)
**核心功能**：根据用户输入的阳历生日，结合农历算法，生成用户在未来十年（2026年2月16日 - 2036年2月16日）的运势K线图，并提供2026年度的财富与婚恋状态总结。

## 2. 用户输入
- **必填项**：出生日期（阳历/公历）。
- **选填项**（可选，用于增加多样性）：出生时间（时辰）、性别、姓名等（为了保证“同样的生日要考虑多样性”，建议引入随机种子或更细粒度的输入，或者在算法中加入随机扰动因子）。

## 3. 核心逻辑与算法

### 3.1 时间范围
- **起始日期**：2026年2月16日
- **结束日期**：2036年2月16日
- **跨度**：10年

### 3.2 运势计算模型
1.  **历法转换**：将用户输入的阳历生日转换为农历生日（包括生肖、干支纪年）。
2.  **本命年判定**：识别用户是否在预测区间内遇到本命年（值太岁），并赋予特定的运势特征（通常波动较大或有特定挑战/机遇）。
3.  **K线生成逻辑**：
    - **数据点**：按月或按年生成K线数据（开盘价、收盘价、最高价、最低价）。鉴于“波动要大”的要求，建议K线形态不仅要有趋势，还要有较长的上下影线。
    - **颜色定义**：
        - **红色**：运势上涨/好运（阳线）。
        - **绿色**：运势下跌/挑战（阴线）。
    - **波动性**：算法需确保十年内的运势曲线具有显著的起伏，避免平铺直叙，体现人生的波澜壮阔。
    - **多样性处理**：针对同一天出生的用户，通过引入随机因子（如基于访问时间戳的微调、用户ID哈希等）或要求更细致的输入（如出生时辰），确保生成的K线图不完全雷同。

### 3.3 年度总结（底部文案）
- **聚焦年份**：2026年。
- **内容维度**：
    - **财富状态**：预测2026年的财运走势（正财、偏财）。
    - **婚恋状态**：预测2026年的感情运势（单身桃花、伴侣关系）。
- **文案风格**：结合农历生日和生肖特点，尤其是本命年（如果适用），给出既有玄学依据又具趣味性的短评。

## 4. 界面与交互设计 (UI/UX)

### 4.1 布局要求
- **顶部**：标题及简单的生日输入框。
- **中部**：核心K线图表区域。
    - 支持缩放、拖拽（可选）。
    - 关键节点（如最高点、最低点）可有标注。
- **底部**：2026年运势总结卡片。

### 4.2 屏幕适配
- **响应式设计**：
    - **网页版 (Desktop)**：宽屏展示，K线图拉伸显示，利用屏幕宽度展示更多细节。
    - **手机浏览器 (Mobile)**：竖屏适配，确保K线图在窄屏下依然清晰可读（可考虑横屏模式或缩略展示），字体和按钮大小符合手指触控标准。

## 5. 技术要求
- **前端技术**：HTML5, CSS3, JavaScript。
- **图表库**：使用 ECharts, Highcharts 或 Chart.js 等成熟图表库绘制K线图。
- **历法库**：使用 `lunar-javascript` 或类似库进行阳历转农历计算。
- **部署**：静态页面或轻量级后端，确保加载速度快。

## 6. 未来扩展
- 支持分享生成图片功能。
- 增加更多维度的运势分析（事业、健康）。
